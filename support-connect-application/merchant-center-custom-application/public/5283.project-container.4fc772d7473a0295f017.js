"use strict";(self.webpackChunkcustom_objects=self.webpackChunkcustom_objects||[]).push([[5283],{"./node_modules/@commercetools-frontend/application-shell/dist/project-container-f1416d28.esm.js":(e,o,s)=>{s.r(o),s.d(o,{default:()=>ProjectContainer});var t=s("./node_modules/@babel/runtime-corejs3/helpers/esm/slicedToArray.js"),n=s("./node_modules/react/index.js"),r=s("./node_modules/lodash/isNil.js"),l=s.n(r),c=s("./node_modules/react-dom/index.js"),i=s("./node_modules/react-intl/lib/index.js"),a=s("./node_modules/react-intl/lib/src/components/message.js"),d=s("./node_modules/react-intl/lib/src/components/useIntl.js"),m=s("./node_modules/react-router/esm/react-router.js"),u=s("./node_modules/@commercetools-frontend/application-shell-connectors/dist/commercetools-frontend-application-shell-connectors.esm.js"),p=s("./node_modules/@commercetools-frontend/constants/dist/commercetools-frontend-constants.esm.js"),j=s("./node_modules/@commercetools-frontend/react-notifications/dist/commercetools-frontend-react-notifications.esm.js"),b=s("./node_modules/@commercetools-frontend/application-shell/dist/oidc-da8526e3.esm.js"),f=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),_=s.n(f),h=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),y=s.n(h),g=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),v=s.n(g),Z=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),w=s.n(Z),x=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),L=s.n(x),k=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),P=s.n(k),C=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),S=s.n(C),T=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js"),E=s.n(T),A=s("./node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js"),B="Invariant failed";var K=s("./node_modules/@commercetools-frontend/application-components/dist/commercetools-frontend-application-components.esm.js"),D=s("./node_modules/@commercetools-frontend/application-config/ssr/dist/commercetools-frontend-application-config-ssr.esm.js"),O=s("./node_modules/@commercetools-frontend/permissions/dist/commercetools-frontend-permissions.esm.js"),R=s("./node_modules/@commercetools-frontend/application-shell/dist/index-89e5711a.esm.js"),V=s("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ownKeys(e,o){var s=_()(e);if(y()){var t=y()(e);o&&(t=v()(t).call(t,(function(o){return w()(e,o).enumerable}))),s.push.apply(s,t)}return s}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var s,t,n=null!=arguments[o]?arguments[o]:{};o%2?L()(s=ownKeys(Object(n),!0)).call(s,(function(o){(0,A.Z)(e,o,n[o])})):P()?S()(e,P()(n)):L()(t=ownKeys(Object(n))).call(t,(function(o){E()(e,o,w()(n,o))}))}return e}const ApplicationRouteWithPermissionCheck=e=>{const o=(0,D.X7)(e.environment.entryPointUriPath);return(0,O.bk)({demandedPermissions:[o.View]})?(0,V.tZ)(V.HY,{children:n.Children.only(e.children)}):(0,V.tZ)(K.BU,{})};ApplicationRouteWithPermissionCheck.propTypes={};const ApplicationRoute=e=>e.disableRoutePermissionCheck?(0,V.tZ)(V.HY,{children:n.Children.only(e.children)}):(0,V.tZ)(ApplicationRouteWithPermissionCheck,_objectSpread({},e));ApplicationRoute.propTypes={};const ApplicationEntryPoint=e=>{if(e.children){const o=e.environment.entryPointUriPath;return(0,V.BX)(m.rs,{children:[null,(0,V.tZ)(m.AW,{path:"/:projectKey/".concat(o),children:(0,V.tZ)(ApplicationRoute,_objectSpread({},e))}),(0,V.tZ)(R.R,{})]})}return e.render&&"function"===typeof e.render?(0,V.tZ)(V.HY,{children:e.render()}):(e.render&&function invariant(e,o){if(!e)throw new Error(B)}(!1),null)};ApplicationEntryPoint.propTypes={};var z=s("./node_modules/@commercetools-frontend/application-shell/dist/index-fd3ab5c6.esm.js"),I=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js"),M=s.n(I),N=s("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),W=s("./node_modules/react-select/dist/index-a301f526.esm.js"),H=s("./node_modules/@commercetools-uikit/accessible-hidden/dist/commercetools-uikit-accessible-hidden.esm.js"),U=s("./node_modules/@commercetools-uikit/design-system/dist/commercetools-uikit-design-system.esm.js"),Y=s("./node_modules/@commercetools-uikit/icons/dist/commercetools-uikit-icons.esm.js"),X=s("./node_modules/@commercetools-uikit/select-input/dist/commercetools-uikit-select-input.esm.js"),q=(s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/entries.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/reflect/has.js"),s("./node_modules/lodash/mapValues.js"),s("./node_modules/omit-empty-es/dist/omit-empty-es.esm.js"),s("./node_modules/@commercetools-frontend/notifications/dist/commercetools-frontend-notifications.esm.js"),s("./node_modules/@commercetools-frontend/application-shell/node_modules/@commercetools-frontend/sdk/dist/commercetools-frontend-sdk.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js"),s("./node_modules/@commercetools-frontend/sentry/dist/commercetools-frontend-sentry.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/starts-with.js"),s("./node_modules/redux-logger/dist/redux-logger.js"),s("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/array/is-array.js"),s("./node_modules/@commercetools-frontend/i18n/dist/commercetools-frontend-i18n.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),s("./node_modules/@commercetools-frontend/application-shell/dist/use-is-served-by-proxy-77984220.esm.js"),s("./node_modules/@commercetools-frontend/assets/images/ct-logo.svg"),s("./node_modules/@commercetools-frontend/browser-history/dist/commercetools-frontend-browser-history.esm.js"),s("./node_modules/@commercetools-frontend/l10n/dist/commercetools-frontend-l10n.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/reflect/construct.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/from-entries.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/flags.js"),s("./node_modules/@flopflip/combine-adapters/dist/flopflip-combine-adapters.esm.js"),s("./node_modules/@flopflip/http-adapter/dist/flopflip-http-adapter.esm.js"),s("./node_modules/@flopflip/launchdarkly-adapter/dist/flopflip-launchdarkly-adapter.esm.js"),s("./node_modules/@flopflip/react-broadcast/dist/flopflip-react-broadcast.browser.esm.js"),s("./node_modules/react-redux/es/index.js"),s("./node_modules/lodash/upperFirst.js"),s("./node_modules/@commercetools-uikit/design-system/materials/resets.css"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/json/stringify.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/some.js"),s("./node_modules/@commercetools-frontend/actions-global/dist/commercetools-frontend-actions-global.esm.js"),(0,i.vU)({localesLabel:{id:"LocaleSwitcher.localesLabel",description:"The label for project dropdown switcher",defaultMessage:"Locales menu"}}));function project_container_f1416d28_esm_ownKeys(e,o){var s=_()(e);if(y()){var t=y()(e);o&&(t=v()(t).call(t,(function(o){return w()(e,o).enumerable}))),s.push.apply(s,t)}return s}function project_container_f1416d28_esm_objectSpread(e){for(var o=1;o<arguments.length;o++){var s,t,n=null!=arguments[o]?arguments[o]:{};o%2?L()(s=project_container_f1416d28_esm_ownKeys(Object(n),!0)).call(s,(function(o){(0,A.Z)(e,o,n[o])})):P()?S()(e,P()(n)):L()(t=project_container_f1416d28_esm_ownKeys(Object(n))).call(t,(function(o){E()(e,o,w()(n,o))}))}return e}const F="locale-switcher-label";var J={name:"lmfqdl",styles:"flex:1;align-items:center;display:flex"};const SingleValue=e=>(0,V.BX)("div",{css:J,children:[(0,V.tZ)(Y.VD,{size:"big"}),(0,V.tZ)("span",{css:(0,N.iv)("margin-left:2px;flex:1;color:",U.Wp.colorAccent,";",""),children:e.children})]});SingleValue.displayName="SingleValue";const PatchedValueContainer=e=>(0,V.tZ)(X.Z.ValueContainer,project_container_f1416d28_esm_objectSpread(project_container_f1416d28_esm_objectSpread({},e),{},{innerProps:{style:{display:"flex",fontWeight:U.Wp.fontWeight500}}}));PatchedValueContainer.displayName="PatchedValueContainer";const CustomMenuList=e=>(0,V.tZ)(W.c.MenuList,project_container_f1416d28_esm_objectSpread(project_container_f1416d28_esm_objectSpread({},e),{},{children:e.children})),LocaleSwitcher=e=>{var o;const s=e.setProjectDataLocale,t=(0,n.useCallback)((e=>{s(e.target.value)}),[s]);return(0,V.BX)("div",{children:[(0,V.tZ)(H.Z,{children:(0,V.tZ)("span",{id:F,children:(0,V.tZ)(a.Z,project_container_f1416d28_esm_objectSpread({},q.localesLabel))})}),(0,V.tZ)(X.Z,{value:e.projectDataLocale,name:"locale-switcher","aria-labelledby":F,onChange:t,options:M()(o=e.availableLocales).call(o,(e=>({label:e,value:e}))),components:{SingleValue:SingleValue,ValueContainer:PatchedValueContainer,MenuList:CustomMenuList},isClearable:!1,backspaceRemovesValue:!1,isSearchable:!1,horizontalConstraint:"auto",appearance:"quiet",maxMenuHeight:360})]})};LocaleSwitcher.propTypes={};const G=(0,n.lazy)((()=>s.e(2031).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-expired-11b7fd68.esm.js")))),$=(0,n.lazy)((()=>s.e(4260).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-not-found-62ebce6e.esm.js")))),Q=(0,n.lazy)((()=>s.e(7697).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-not-initialized-3e294ed5.esm.js")))),ee=(0,n.lazy)((()=>s.e(7972).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-suspended-db1068ca.esm.js"))));var oe=(0,i.vU)({trialDaysLeft:{id:"Project.trialDaysLeft",defaultMessage:"Your project trial period will expire in {daysLeft} {daysLeft, plural, one {day} other {days}}. For any inquiries please contact sales@commercetools.com"}});const ProjectContainer=e=>{var o;const s=(0,d.Z)(),r=(0,m.TH)(),i=(0,m.$B)(),a=(0,n.useState)(null),f=(0,t.Z)(a,2),_=f[0],h=f[1];(0,n.useEffect)((()=>{h(document.getElementById(b.C.LOCALE_SWITCHER))}),[h]);const y=i.params.projectKey;(0,n.useEffect)((()=>{y&&window.localStorage.setItem(p.I.ACTIVE_PROJECT_KEY,y)}),[y]);const g=e.user&&0===e.user.projects.total;return g&&!0!==e.environment.enableSignUp&&e.environment.servedByProxy?(0,V.tZ)(m.l_,{to:"/logout?reason=".concat(p.nt.NO_PROJECTS)}):g&&e.environment.enableSignUp?(0,V.BX)(m.rs,{children:[(0,V.tZ)(m.AW,{path:"/account",children:null===(o=e.render)||void 0===o?void 0:o.call(e)}),(0,V.tZ)(m.AW,{children:(0,V.tZ)(z.a,{})})]}):(0,V.tZ)(z.E,{pathname:r.pathname,children:(0,V.tZ)(n.Suspense,{fallback:(0,V.tZ)(z.b,{}),children:(0,V.tZ)(z.F,{skip:!e.user||!e.user.defaultProjectKey,projectKey:y,children:o=>{let t=o.isLoading,n=o.project;return t?(0,V.tZ)(z.b,{}):n?n.suspension&&n.suspension.isActive?(0,V.tZ)(ee,{isTemporary:n.suspension.reason===b.S.TEMPORARY_MAINTENANCE}):n.expiry&&n.expiry.isActive?(0,V.tZ)(G,{}):!1===n.initialized?(0,V.tZ)(Q,{}):(0,V.tZ)(z.P,{locales:n.languages,children:o=>{var t;let r=o.locale,i=o.setProjectDataLocale;return(0,V.tZ)(u.By,{user:e.user,project:n,projectDataLocale:r,environment:e.environment,children:(0,V.BX)(V.HY,{children:[(a=null!==(t=n.expiry.daysLeft)&&void 0!==t?t:void 0,!l()(a)&&a<=14&&a>=0&&(0,V.tZ)(j.d4,{kind:"warning",domain:p.w7.GLOBAL,text:s.formatMessage(oe.trialDaysLeft,{daysLeft:n.expiry.daysLeft||0})})),_&&n.languages.length>1&&c.createPortal((0,V.tZ)(LocaleSwitcher,{projectDataLocale:r,setProjectDataLocale:i,availableLocales:n.languages}),_),(0,V.tZ)(ApplicationEntryPoint,{environment:e.environment,disableRoutePermissionCheck:e.disableRoutePermissionCheck,render:e.render,children:e.children})]})});var a}}):(0,V.tZ)($,{})}})})})};ProjectContainer.propTypes={},ProjectContainer.displayName="ProjectContainer"}}]);
//# sourceMappingURL=5283.project-container.4fc772d7473a0295f017.js.map