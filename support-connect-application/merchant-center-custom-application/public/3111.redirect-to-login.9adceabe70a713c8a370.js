"use strict";(self.webpackChunkcustom_objects=self.webpackChunkcustom_objects||[]).push([[3111],{"./node_modules/@commercetools-frontend/application-shell/dist/get-mc-origin-fecfee07.esm.js":(e,o,n)=>{n.d(o,{g:()=>getMcOrigin});var s=n("./node_modules/@babel/runtime-corejs3/helpers/esm/slicedToArray.js"),t=n("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),r=n.n(t),c=n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reverse.js"),i=n.n(c);function getMcOrigin(e){var o,n;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const c=new(r())(e),l=i()(o=c.hostname.split(".")).call(o),d=(0,s.Z)(l,4),a=d[0],u=d[1],p=d[2],m=d[3],j=i()(n=t.location.hostname.split(".")).call(n),b=(0,s.Z)(j,4),_=b[0],f=b[1],g=b[2],y=b[3];return a===_&&u===f&&p===g&&m===y?t.location.origin:c.origin.replace("mc-api","mc")}},"./node_modules/@commercetools-frontend/application-shell/dist/redirect-to-login-5e148cff.esm.js":(e,o,n)=>{n.r(o),n.d(o,{default:()=>RedirectToLogin});var s=n("./node_modules/react/index.js"),t=n("./node_modules/react-router/esm/react-router.js");const r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let c;const i=new Uint8Array(16);function rng(){if(!c&&(c="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(i)}const l=[];for(let w=0;w<256;++w)l.push((w+256).toString(16).slice(1));function unsafeStringify(e,o=0){return(l[e[o+0]]+l[e[o+1]]+l[e[o+2]]+l[e[o+3]]+"-"+l[e[o+4]]+l[e[o+5]]+"-"+l[e[o+6]]+l[e[o+7]]+"-"+l[e[o+8]]+l[e[o+9]]+"-"+l[e[o+10]]+l[e[o+11]]+l[e[o+12]]+l[e[o+13]]+l[e[o+14]]+l[e[o+15]]).toLowerCase()}const d=function v4(e,o,n){if(r.randomUUID&&!o&&!e)return r.randomUUID();const s=(e=e||{}).random||(e.rng||rng)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,o){n=n||0;for(let e=0;e<16;++e)o[n+e]=s[e];return o}return unsafeStringify(s)};var a=n("./node_modules/@commercetools-frontend/application-shell-connectors/dist/commercetools-frontend-application-shell-connectors.esm.js"),u=n("./node_modules/@commercetools-frontend/constants/dist/commercetools-frontend-constants.esm.js"),p=n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js"),m=n.n(p),j=n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js"),b=n.n(j);const _=/^\/|\/$/g,trimLeadingAndTrailingSlashes=e=>e.replace(_,""),joinPaths=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];const s=m()(o).call(o,(e=>{var o;if("string"!==typeof e)throw new Error(b()(o='Expected path "'.concat(e,'" to be a "string", but got "')).call(o,typeof e,'"'));return trimLeadingAndTrailingSlashes(e)})).join("/");return"/".concat(s)};var f=n("./node_modules/@commercetools-frontend/application-shell/dist/oidc-da8526e3.esm.js"),g=n("./node_modules/@commercetools-frontend/application-shell/dist/use-is-served-by-proxy-77984220.esm.js"),y=n("./node_modules/@commercetools-frontend/application-shell/dist/get-mc-origin-fecfee07.esm.js"),v=n("./node_modules/@commercetools-frontend/application-shell/dist/redirector-54a03b75.esm.js");n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reverse.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js");const RedirectToLogin=()=>{const e=(0,t.TH)(),o=(0,g.u)(),n=(0,v.u)();return(0,s.useEffect)((()=>{var s;if(null!==(s=window.app.__DEVELOPMENT__)&&void 0!==s&&null!==(s=s.oidc)&&void 0!==s&&s.authorizeUrl){var t,r,c,i,l;a.sj.clearSession();const o=a.sj.getActiveProjectKey(),s=(e=>{const o=d();return a.sj.setSessionState(o,e),o})({applicationId:window.app.applicationId,query:{redirectTo:o?"/".concat(o):"/"}}),p=(0,f.b)({projectKey:null!==o&&void 0!==o?o:void 0,oAuthScopes:null===(t=window.app.__DEVELOPMENT__)||void 0===t||null===(t=t.oidc)||void 0===t?void 0:t.oAuthScopes,additionalOAuthScopes:null===(r=window.app.__DEVELOPMENT__)||void 0===r||null===(r=r.oidc)||void 0===r?void 0:r.additionalOAuthScopes,teamId:null===(c=window.app.__DEVELOPMENT__)||void 0===c||null===(c=c.oidc)||void 0===c?void 0:c.teamId,applicationId:null===(i=window.app.__DEVELOPMENT__)||void 0===i||null===(i=i.oidc)||void 0===i?void 0:i.applicationId});return a.sj.setSessionScope(p),void n({to:"",origin:null===(l=window.app.__DEVELOPMENT__)||void 0===l||null===(l=l.oidc)||void 0===l?void 0:l.authorizeUrl,location:e,queryParams:{reason:u.nt.UNAUTHORIZED,client_id:window.app.applicationId,response_type:f.a.ID_TOKEN,scope:p,state:s,nonce:s}})}const p=o?(0,y.g)(window.app.mcApiUrl):void 0;n({to:"login",origin:p,location:e,queryParams:{reason:u.nt.UNAUTHORIZED,redirectTo:trimLeadingAndTrailingSlashes(joinPaths(window.location.origin,e.pathname))}})}),[]),null};RedirectToLogin.displayName="RedirectToLogin"},"./node_modules/@commercetools-frontend/application-shell/dist/redirector-54a03b75.esm.js":(e,o,n)=>{n.d(o,{R:()=>Redirector,u:()=>useRedirector});var s=n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),t=n.n(s),r=n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),c=n.n(r),i=n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),l=n.n(i),d=n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),a=n.n(d),u=n("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),p=n.n(u),m=n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),j=n.n(m),b=n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),_=n.n(b),f=n("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js"),g=n.n(f),y=n("./node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js"),v=n("./node_modules/prop-types/index.js"),w=n.n(v),h=n("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),E=n.n(h),U=n("./node_modules/react/index.js"),S=n("./node_modules/qss/dist/qss.m.js"),T=n("./node_modules/@commercetools-frontend/application-shell/dist/use-is-served-by-proxy-77984220.esm.js");function ownKeys(e,o){var n=t()(e);if(c()){var s=c()(e);o&&(s=l()(s).call(s,(function(o){return a()(e,o).enumerable}))),n.push.apply(n,s)}return n}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var n,s,t=null!=arguments[o]?arguments[o]:{};o%2?p()(n=ownKeys(Object(t),!0)).call(n,(function(o){(0,y.Z)(e,o,t[o])})):j()?_()(e,j()(t)):p()(s=ownKeys(Object(t))).call(s,(function(o){g()(e,o,a()(t,o))}))}return e}const useRedirector=()=>(0,U.useCallback)((e=>{var o,n,s;const t=null!==(o=e.origin)&&void 0!==o?o:window.location.origin,r=e.location||{},c=_objectSpread(_objectSpread({},null!==(n=e.queryParams)&&void 0!==n?n:{}),null!==(s=r.query)&&void 0!==s?s:{}),i=new(E())(t);i.pathname=e.to||i.pathname,i.search="?".concat((0,S.c)(c));(e=>{T.l.replace(e)})(i.toString())}),[]),Redirector=e=>{const o=useRedirector();return(0,U.useEffect)((()=>{o(e)}),[]),null};Redirector.propTypes={to:w().string.isRequired,origin:w().string,queryParams:w().shape({redirectTo:w().string,client_id:w().string,response_type:w().string,scope:w().string,state:w().string,nonce:w().string})},Redirector.displayName="Redirector"}}]);
//# sourceMappingURL=3111.redirect-to-login.9adceabe70a713c8a370.js.map